webpackJsonp([1],{134:function(e,t){},135:function(e,t){},136:function(e,t,a){a(134);var n=a(51)(a(78),a(137),null,null);e.exports=n.exports},137:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("投标报价评分系统")]),e._v(" "),a("el-row",{staticClass:"info"},[a("span",{staticClass:"label"},[e._v("招标人指标：")]),e._v(" "),a("span",{staticClass:"labelInput"},[a("el-input",{attrs:{type:"tel"},model:{value:e.tendereeTarget,callback:function(t){e.tendereeTarget=t},expression:"tendereeTarget"}})],1),e._v(" "),a("span",{staticClass:"label"},[e._v("浮动点：")]),e._v(" "),a("span",{staticClass:"labelInput"},[a("el-select",{model:{value:e.floatPoint,callback:function(t){e.floatPoint=t},expression:"floatPoint"}},[a("el-option",{attrs:{label:"1%",value:"%1"}}),e._v(" "),a("el-option",{attrs:{label:"0.5%",value:"0.5%"}}),e._v(" "),a("el-option",{attrs:{label:"0%",value:"0%"}}),e._v(" "),a("el-option",{attrs:{label:"-0.5%",value:"-0.5%"}}),e._v(" "),a("el-option",{attrs:{label:"-1%",value:"-1%"}}),e._v(" "),a("el-option",{attrs:{label:"-1.5%",value:"-1.5%"}}),e._v(" "),a("el-option",{attrs:{label:"-2%",value:"-2%"}})],1)],1),e._v(" "),a("span",{staticClass:"label"},[e._v("评标指标：")]),e._v(" "),a("span",{},[e._v(e._s(e.standardTarget))]),e._v(" "),a("span",{staticClass:"submitBt"},[a("el-button",{attrs:{type:"warning"},on:{click:e.addTestData}},[e._v("添加测试数据")]),e._v(" "),a("el-button",{attrs:{type:"warning"},on:{click:e.addNew}},[e._v("新增公司")]),e._v(" "),a("el-button",{attrs:{type:"warning"},on:{click:e.calcResult}},[e._v("计算结果")])],1)]),e._v(" "),a("div",{staticClass:"listTable"},[a("div",{staticClass:"tableHead"},[a("el-row",[a("el-col",{attrs:{span:2}},[e._v("顺序")]),e._v(" "),a("el-col",{attrs:{span:4}},[e._v("投标单位")]),e._v(" "),a("el-col",{attrs:{span:4}},[e._v("投标报价")]),e._v(" "),a("el-col",{attrs:{span:5}},[e._v("大多数投标人报价平均值")]),e._v(" "),a("el-col",{attrs:{span:4}},[e._v("是否有效投标")]),e._v(" "),a("el-col",{attrs:{span:3}},[e._v("报价得分")]),e._v(" "),a("el-col",{attrs:{span:2}},[e._v("名次")])],1)],1),e._v(" "),a("div",{staticClass:"tableBody"},e._l(e.companys,function(t,n){return a("el-row",{key:n},[a("el-col",{attrs:{span:2}},[e._v(e._s(n))]),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-input",{attrs:{size:"small"},model:{value:t.name,callback:function(e){t.name=e},expression:"item.name"}})],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-input",{attrs:{type:"tel",size:"small"},model:{value:t.tenderOffer,callback:function(e){t.tenderOffer=e},expression:"item.tenderOffer"}})],1),e._v(" "),a("el-col",{attrs:{span:5}},[e._v(e._s(t.otherOfferAverage))]),e._v(" "),a("el-col",{attrs:{span:4}},[a("i",{class:t.isValid?"el-icon-check right":"el-icon-close error"})]),e._v(" "),a("el-col",{attrs:{span:3}},[e._v(e._s(t.score))]),e._v(" "),a("el-col",{attrs:{span:2}},[e._v(e._s(t.ranking))])],1)}))])],1)},staticRenderFns:[]}},138:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("grade")],1)},staticRenderFns:[]}},53:function(e,t){},54:function(e,t,a){a(135);var n=a(51)(a(77),a(138),null,null);e.exports=n.exports},77:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(136),s=a.n(n);t.default={name:"app",components:{Grade:s.a}}},78:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(81),s=a.n(n),r=a(83),l=a.n(r),o=a(82),i=a.n(o);t.default={data:function(){return{tendereeTarget:"",floatPoint:"1.25%",standardTarget:"",companys:[],company:{name:"",tenderOffer:"",otherOfferAverage:"",isValid:"",score:"",ranking:""}}},created:function(){for(var e=0;e<7;e++)this.companys.push(i()({},this.company))},methods:{addNew:function(){this.companys.push(i()({},this.company))},addTestData:function(){var e=[4501.5607,4681.3,4498.525,5431.3783,5378,4522.5,5399.9039];this.tendereeTarget=4638,this.companys.forEach(function(t,a){t.tenderOffer=e[a]})},valid:function(){var e=this,t=!0;return this.companys.forEach(function(a){e.tendereeTarget||(e.$message({showClose:!0,message:"请先填写招标人指标",type:"error"}),t=!1),a.tenderOffer||(e.$message({showClose:!0,message:"请先填写投标报价",type:"error"}),t=!1)}),t},getSum:function(e){var t=0;return e.forEach(function(e){t+=e.tenderOffer-0}),t},isValid:function(e){var t=!1,a=e.tenderOffer||0,n=e.otherOfferAverage||0;return a<=1.05*this.tendereeTarget&&a>=.93*this.tendereeTarget&&(t=!0),a<=1.05*n&&a>=.93*n&&(t=!0),t},getStandardTarget:function(){var e=this.companys.filter(function(e){return e.isValid}),t=e.length,a=this.getSum(e),n=0;if(t>3){var r=e.map(function(e){return e.tenderOffer-0}),o=Math.max.apply(Math,l()(r)),i=Math.min.apply(Math,l()(r));console.log("max:"+o+";min:"+i),n=(a-o-i)/(t-2)}else 3===t&&(n=a/t);return Math.round(n/(1+Math.abs(s()(this.floatPoint)/100)))},calcResult:function(){var e=this;if(this.valid()){var t=this.getSum(this.companys),a=this.companys.length;this.companys.forEach(function(n){n.otherOfferAverage=Math.round((t-n.tenderOffer)/(a-1)),n.isValid=e.isValid(n)}),this.standardTarget=this.getStandardTarget(),this.companys.forEach(function(t){if(t.isValid){var a=t.tenderOffer/e.standardTarget-1,n=Math.ceil(Math.abs(a)/.005);t.score=100-.5*n}});var n=this.companys.filter(function(e){return e.isValid}).map(function(e){return e.score}).sort(function(e,t){return e-t<0});this.companys.forEach(function(e){e.isValid&&(e.ranking=n.indexOf(e.score)+1)})}}}}},79:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(2),s=a(54),r=a.n(s),l=a(52),o=a.n(l),i=a(53);a.n(i);n.default.use(o.a),n.default.config.productionTip=!1,new n.default({el:"#app",template:"<App/>",components:{App:r.a}})}},[79]);
//# sourceMappingURL=app.1e0f3768e62899094cbf.js.map