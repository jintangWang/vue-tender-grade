webpackJsonp([1],{134:function(t,e){},135:function(t,e){},136:function(t,e,a){a(134);var n=a(51)(a(78),a(137),null,null);t.exports=n.exports},137:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v("投标报价评分系统")]),t._v(" "),a("el-row",{staticClass:"info"},[a("span",{staticClass:"label"},[t._v("招标人指标：")]),t._v(" "),a("span",{staticClass:"labelInput"},[a("el-input",{attrs:{type:"tel"},model:{value:t.tendereeTarget,callback:function(e){t.tendereeTarget=e},expression:"tendereeTarget"}})],1),t._v(" "),a("span",{staticClass:"label"},[t._v("浮动点：")]),t._v(" "),a("span",{staticClass:"labelInput"},[a("el-select",{model:{value:t.floatPoint,callback:function(e){t.floatPoint=e},expression:"floatPoint"}},[a("el-option",{attrs:{label:"1%",value:"1%"}}),t._v(" "),a("el-option",{attrs:{label:"0.5%",value:"0.5%"}}),t._v(" "),a("el-option",{attrs:{label:"0%",value:"0%"}}),t._v(" "),a("el-option",{attrs:{label:"-0.5%",value:"-0.5%"}}),t._v(" "),a("el-option",{attrs:{label:"-1%",value:"-1%"}}),t._v(" "),a("el-option",{attrs:{label:"-1.5%",value:"-1.5%"}}),t._v(" "),a("el-option",{attrs:{label:"-2%",value:"-2%"}})],1)],1),t._v(" "),a("span",{staticClass:"label"},[t._v("评标指标：")]),t._v(" "),a("span",{},[t._v(t._s(t.standardTarget))]),t._v(" "),a("span",{staticClass:"submitBt"},[a("el-button",{attrs:{type:"warning"},on:{click:t.addTestData}},[t._v("添加测试数据")]),t._v(" "),a("el-button",{attrs:{type:"warning"},on:{click:t.addNew}},[t._v("新增公司")]),t._v(" "),a("el-button",{attrs:{type:"warning"},on:{click:t.calcResult}},[t._v("计算结果")])],1)]),t._v(" "),a("div",{staticClass:"listTable"},[a("div",{staticClass:"tableHead"},[a("el-row",[a("el-col",{attrs:{span:1}},[t._v("顺序")]),t._v(" "),a("el-col",{attrs:{span:4}},[t._v("投标单位")]),t._v(" "),a("el-col",{attrs:{span:4}},[t._v("投标报价")]),t._v(" "),a("el-col",{attrs:{span:5}},[t._v("大多数投标人报价平均值")]),t._v(" "),a("el-col",{attrs:{span:4}},[t._v("是否有效投标")]),t._v(" "),a("el-col",{attrs:{span:3}},[t._v("报价得分")]),t._v(" "),a("el-col",{attrs:{span:1}},[t._v("名次")]),t._v(" "),a("el-col",{attrs:{span:2}},[t._v("操作")])],1)],1),t._v(" "),a("div",{staticClass:"tableBody"},t._l(t.companys,function(e,n){return a("el-row",{key:n,class:{highlight:1==e.ranking}},[a("el-col",{attrs:{span:1}},[t._v(t._s(n+1))]),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-input",{attrs:{size:"small"},model:{value:e.name,callback:function(t){e.name=t},expression:"item.name"}})],1),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-input",{attrs:{type:"tel",size:"small"},model:{value:e.tenderOffer,callback:function(t){e.tenderOffer=t},expression:"item.tenderOffer"}})],1),t._v(" "),a("el-col",{attrs:{span:5}},[t._v(t._s(e.otherOfferAverage))]),t._v(" "),a("el-col",{attrs:{span:4}},[a("i",{class:e.isValid?"el-icon-check right":"el-icon-close error"})]),t._v(" "),a("el-col",{attrs:{span:3}},[t._v(t._s(e.score))]),t._v(" "),a("el-col",{attrs:{span:1}},[t._v(t._s(e.ranking))]),t._v(" "),a("el-col",{staticStyle:{position:"relative"},attrs:{span:2}},[a("el-button",{staticClass:"delBt",attrs:{type:"primary",icon:"delete",size:"small",title:"删除"},on:{click:function(e){t.delRow(n)}}})],1)],1)}))])],1)},staticRenderFns:[]}},138:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("grade")],1)},staticRenderFns:[]}},53:function(t,e){},54:function(t,e,a){a(135);var n=a(51)(a(77),a(138),null,null);t.exports=n.exports},77:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(136),s=a.n(n);e.default={name:"app",components:{Grade:s.a}}},78:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(81),s=a.n(n),r=a(83),l=a.n(r),i=a(82),o=a.n(i);e.default={data:function(){return{tendereeTarget:"",floatPoint:"0%",standardTarget:"",companys:[],company:{name:"",tenderOffer:"",otherOfferAverage:"",isValid:"",score:"",ranking:""}}},created:function(){for(var t=0;t<7;t++)this.companys.push(o()({},this.company))},methods:{addNew:function(){this.companys.push(o()({},this.company))},addTestData:function(){var t=[61230486.51,60936722.7,61746060.14,61302518.19,58253673.83,58164669.29,58103681.21];this.floatPoint="1%",this.tendereeTarget=615e5,this.companys.forEach(function(e,a){e.tenderOffer=t[a]}),this.calcResult()},valid:function(){var t=this,e=!0;return this.companys.forEach(function(a){t.tendereeTarget||(t.$message({showClose:!0,message:"请先填写招标人指标",type:"error"}),e=!1),a.tenderOffer||(t.$message({showClose:!0,message:"请先填写投标报价",type:"error"}),e=!1)}),e},getSum:function(t){var e=0;return t.forEach(function(t){e+=t.tenderOffer-0}),e},isValid:function(t){var e=!1,a=t.tenderOffer||0,n=t.otherOfferAverage||0;return a<=1.05*this.tendereeTarget&&a>=.93*this.tendereeTarget&&(e=!0),a<=1.05*n&&a>=.93*n&&(e=!0),e},getStandardTarget:function(){var t=this.companys.filter(function(t){return t.isValid}),e=t.length,a=this.getSum(t),n=0;if(e>3){var r=t.map(function(t){return t.tenderOffer-0}),i=Math.max.apply(Math,l()(r)),o=Math.min.apply(Math,l()(r));console.log("max:"+i+";min:"+o),n=(a-i-o)/(e-2)}else 3===e&&(n=a/e);return Math.round(n/(1+Math.abs(s()(this.floatPoint)/100)))},calcResult:function(){var t=this;if(this.valid()){var e=this.getSum(this.companys),a=this.companys.length;this.companys.forEach(function(n){n.otherOfferAverage=Math.round((e-n.tenderOffer)/(a-1)),n.isValid=t.isValid(n)}),this.standardTarget=this.getStandardTarget(),this.companys.forEach(function(e){if(e.isValid){var a=e.tenderOffer/t.standardTarget-1,n=Math.ceil(Math.abs(a)/.005);e.score=100-.5*n}});var n=this.companys.filter(function(t){return t.isValid}).map(function(t){return t.score}).sort(function(t,e){return t-e<0});this.companys.forEach(function(t){t.isValid&&(t.ranking=n.indexOf(t.score)+1)})}},delRow:function(t){this.companys.splice(t,1),this.calcResult()}}}},79:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(2),s=a(54),r=a.n(s),l=a(52),i=a.n(l),o=a(53);a.n(o);n.default.use(i.a),n.default.config.productionTip=!1,new n.default({el:"#app",template:"<App/>",components:{App:r.a}})}},[79]);
//# sourceMappingURL=app.856423e91bbbb7ae4b9b.js.map