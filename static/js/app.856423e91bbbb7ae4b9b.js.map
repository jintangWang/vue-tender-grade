{"version":3,"sources":["webpack:///static/js/app.856423e91bbbb7ae4b9b.js","webpack:///./src/components/Grade.vue?80db","webpack:///./src/components/Grade.vue?ab44","webpack:///./src/App.vue?3400","webpack:///./src/App.vue?35a7","webpack:///App.vue","webpack:///Grade.vue","webpack:///./src/main.js"],"names":["webpackJsonp","134","module","exports","135","136","__webpack_require__","Component","137","render","_vm","this","_h","$createElement","_c","_self","_v","staticClass","attrs","type","model","value","callback","$$v","tendereeTarget","expression","floatPoint","label","_s","standardTarget","on","click","addTestData","addNew","calcResult","span","_l","item","index","key","class","highlight","ranking","size","name","tenderOffer","otherOfferAverage","isValid","score","staticStyle","position","icon","title","$event","delRow","staticRenderFns","138","id","53","54","77","__webpack_exports__","Object","defineProperty","__WEBPACK_IMPORTED_MODULE_0__components_Grade__","__WEBPACK_IMPORTED_MODULE_0__components_Grade___default","n","components","Grade","a","78","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_number_parse_float__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_number_parse_float___default","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_toConsumableArray__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_toConsumableArray___default","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign__","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default","data","companys","company","created","i","push","methods","testData","forEach","valid","_this","flag","$message","showClose","message","getSum","array","sum","getStandardTarget","validCompanys","filter","com","validLength","length","average","tenderArr","map","max","Math","apply","min","console","log","round","abs","_this2","l","ratio","subFlag","ceil","orderArr","sort","b","indexOf","splice","79","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1__App__","__WEBPACK_IMPORTED_MODULE_1__App___default","__WEBPACK_IMPORTED_MODULE_2_element_ui__","__WEBPACK_IMPORTED_MODULE_2_element_ui___default","__WEBPACK_IMPORTED_MODULE_3_element_ui_lib_theme_default_index_css__","use","config","productionTip","el","template","App"],"mappings":"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","file":"static/js/app.856423e91bbbb7ae4b9b.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 134:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 135:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 136:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(134)\n\nvar Component = __webpack_require__(51)(\n  /* script */\n  __webpack_require__(78),\n  /* template */\n  __webpack_require__(137),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 137:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('h1', [_vm._v(\"投标报价评分系统\")]), _vm._v(\" \"), _c('el-row', {\n    staticClass: \"info\"\n  }, [_c('span', {\n    staticClass: \"label\"\n  }, [_vm._v(\"招标人指标：\")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"labelInput\"\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"tel\"\n    },\n    model: {\n      value: (_vm.tendereeTarget),\n      callback: function($$v) {\n        _vm.tendereeTarget = $$v\n      },\n      expression: \"tendereeTarget\"\n    }\n  })], 1), _vm._v(\" \"), _c('span', {\n    staticClass: \"label\"\n  }, [_vm._v(\"浮动点：\")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"labelInput\"\n  }, [_c('el-select', {\n    model: {\n      value: (_vm.floatPoint),\n      callback: function($$v) {\n        _vm.floatPoint = $$v\n      },\n      expression: \"floatPoint\"\n    }\n  }, [_c('el-option', {\n    attrs: {\n      \"label\": \"1%\",\n      \"value\": \"1%\"\n    }\n  }), _vm._v(\" \"), _c('el-option', {\n    attrs: {\n      \"label\": \"0.5%\",\n      \"value\": \"0.5%\"\n    }\n  }), _vm._v(\" \"), _c('el-option', {\n    attrs: {\n      \"label\": \"0%\",\n      \"value\": \"0%\"\n    }\n  }), _vm._v(\" \"), _c('el-option', {\n    attrs: {\n      \"label\": \"-0.5%\",\n      \"value\": \"-0.5%\"\n    }\n  }), _vm._v(\" \"), _c('el-option', {\n    attrs: {\n      \"label\": \"-1%\",\n      \"value\": \"-1%\"\n    }\n  }), _vm._v(\" \"), _c('el-option', {\n    attrs: {\n      \"label\": \"-1.5%\",\n      \"value\": \"-1.5%\"\n    }\n  }), _vm._v(\" \"), _c('el-option', {\n    attrs: {\n      \"label\": \"-2%\",\n      \"value\": \"-2%\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('span', {\n    staticClass: \"label\"\n  }, [_vm._v(\"评标指标：\")]), _vm._v(\" \"), _c('span', {}, [_vm._v(_vm._s(_vm.standardTarget))]), _vm._v(\" \"), _c('span', {\n    staticClass: \"submitBt\"\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"warning\"\n    },\n    on: {\n      \"click\": _vm.addTestData\n    }\n  }, [_vm._v(\"添加测试数据\")]), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"type\": \"warning\"\n    },\n    on: {\n      \"click\": _vm.addNew\n    }\n  }, [_vm._v(\"新增公司\")]), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"type\": \"warning\"\n    },\n    on: {\n      \"click\": _vm.calcResult\n    }\n  }, [_vm._v(\"计算结果\")])], 1)]), _vm._v(\" \"), _c('div', {\n    staticClass: \"listTable\"\n  }, [_c('div', {\n    staticClass: \"tableHead\"\n  }, [_c('el-row', [_c('el-col', {\n    attrs: {\n      \"span\": 1\n    }\n  }, [_vm._v(\"顺序\")]), _vm._v(\" \"), _c('el-col', {\n    attrs: {\n      \"span\": 4\n    }\n  }, [_vm._v(\"投标单位\")]), _vm._v(\" \"), _c('el-col', {\n    attrs: {\n      \"span\": 4\n    }\n  }, [_vm._v(\"投标报价\")]), _vm._v(\" \"), _c('el-col', {\n    attrs: {\n      \"span\": 5\n    }\n  }, [_vm._v(\"大多数投标人报价平均值\")]), _vm._v(\" \"), _c('el-col', {\n    attrs: {\n      \"span\": 4\n    }\n  }, [_vm._v(\"是否有效投标\")]), _vm._v(\" \"), _c('el-col', {\n    attrs: {\n      \"span\": 3\n    }\n  }, [_vm._v(\"报价得分\")]), _vm._v(\" \"), _c('el-col', {\n    attrs: {\n      \"span\": 1\n    }\n  }, [_vm._v(\"名次\")]), _vm._v(\" \"), _c('el-col', {\n    attrs: {\n      \"span\": 2\n    }\n  }, [_vm._v(\"操作\")])], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"tableBody\"\n  }, _vm._l((_vm.companys), function(item, index) {\n    return _c('el-row', {\n      key: index,\n      class: {\n        'highlight': item.ranking == 1\n      }\n    }, [_c('el-col', {\n      attrs: {\n        \"span\": 1\n      }\n    }, [_vm._v(_vm._s(index + 1))]), _vm._v(\" \"), _c('el-col', {\n      attrs: {\n        \"span\": 4\n      }\n    }, [_c('el-input', {\n      attrs: {\n        \"size\": \"small\"\n      },\n      model: {\n        value: (item.name),\n        callback: function($$v) {\n          item.name = $$v\n        },\n        expression: \"item.name\"\n      }\n    })], 1), _vm._v(\" \"), _c('el-col', {\n      attrs: {\n        \"span\": 4\n      }\n    }, [_c('el-input', {\n      attrs: {\n        \"type\": \"tel\",\n        \"size\": \"small\"\n      },\n      model: {\n        value: (item.tenderOffer),\n        callback: function($$v) {\n          item.tenderOffer = $$v\n        },\n        expression: \"item.tenderOffer\"\n      }\n    })], 1), _vm._v(\" \"), _c('el-col', {\n      attrs: {\n        \"span\": 5\n      }\n    }, [_vm._v(_vm._s(item.otherOfferAverage))]), _vm._v(\" \"), _c('el-col', {\n      attrs: {\n        \"span\": 4\n      }\n    }, [_c('i', {\n      class: item.isValid ? 'el-icon-check right' : 'el-icon-close error'\n    })]), _vm._v(\" \"), _c('el-col', {\n      attrs: {\n        \"span\": 3\n      }\n    }, [_vm._v(_vm._s(item.score))]), _vm._v(\" \"), _c('el-col', {\n      attrs: {\n        \"span\": 1\n      }\n    }, [_vm._v(_vm._s(item.ranking))]), _vm._v(\" \"), _c('el-col', {\n      staticStyle: {\n        \"position\": \"relative\"\n      },\n      attrs: {\n        \"span\": 2\n      }\n    }, [_c('el-button', {\n      staticClass: \"delBt\",\n      attrs: {\n        \"type\": \"primary\",\n        \"icon\": \"delete\",\n        \"size\": \"small\",\n        \"title\": \"删除\"\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.delRow(index)\n        }\n      }\n    })], 1)], 1)\n  }))])], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 138:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('grade')], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 53:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 54:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(135)\n\nvar Component = __webpack_require__(51)(\n  /* script */\n  __webpack_require__(77),\n  /* template */\n  __webpack_require__(138),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 77:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_Grade__ = __webpack_require__(136);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_Grade___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_Grade__);\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'app',\n  components: {\n    Grade: __WEBPACK_IMPORTED_MODULE_0__components_Grade___default.a\n  }\n});\n\n/***/ }),\n\n/***/ 78:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_number_parse_float__ = __webpack_require__(81);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_number_parse_float___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_number_parse_float__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_toConsumableArray__ = __webpack_require__(83);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_toConsumableArray___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_toConsumableArray__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign__ = __webpack_require__(82);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign__);\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  data: function data() {\n    return {\n      tendereeTarget: '',\n      floatPoint: '0%',\n      standardTarget: '',\n      companys: [],\n      company: {\n        name: '',\n        tenderOffer: '',\n        otherOfferAverage: '',\n        isValid: '',\n        score: '',\n        ranking: ''\n      }\n    };\n  },\n  created: function created() {\n    for (var i = 0; i < 7; i++) {\n      this.companys.push(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, this.company));\n    }\n  },\n\n  methods: {\n    addNew: function addNew() {\n      this.companys.push(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, this.company));\n    },\n    addTestData: function addTestData() {\n      var testData = [61230486.51, 60936722.70, 61746060.14, 61302518.19, 58253673.83, 58164669.29, 58103681.21];\n      this.floatPoint = '1%';\n      this.tendereeTarget = 61500000;\n      this.companys.forEach(function (item, index) {\n        item.tenderOffer = testData[index];\n      });\n      this.calcResult();\n    },\n    valid: function valid() {\n      var _this = this;\n\n      var flag = true;\n      this.companys.forEach(function (item) {\n        if (!_this.tendereeTarget) {\n          _this.$message({\n            showClose: true,\n            message: '请先填写招标人指标',\n            type: 'error'\n          });\n          flag = false;\n        }\n        if (!item.tenderOffer) {\n          _this.$message({\n            showClose: true,\n            message: '请先填写投标报价',\n            type: 'error'\n          });\n          flag = false;\n        }\n      });\n      return flag;\n    },\n    getSum: function getSum(array) {\n      var sum = 0;\n      array.forEach(function (item) {\n        sum += item.tenderOffer - 0;\n      });\n      return sum;\n    },\n    isValid: function isValid(item) {\n      var flag = false;\n      var tenderOffer = item.tenderOffer || 0;\n      var otherOfferAverage = item.otherOfferAverage || 0;\n      if (tenderOffer <= this.tendereeTarget * 1.05 && tenderOffer >= this.tendereeTarget * 0.93) {\n        flag = true;\n      }\n      if (tenderOffer <= otherOfferAverage * 1.05 && tenderOffer >= otherOfferAverage * 0.93) {\n        flag = true;\n      }\n      return flag;\n    },\n    getStandardTarget: function getStandardTarget() {\n      var validCompanys = this.companys.filter(function (com) {\n        return com.isValid;\n      });\n      var validLength = validCompanys.length;\n      var sum = this.getSum(validCompanys);\n      var average = 0;\n      var standardTarget = 0;\n      if (validLength > 3) {\n        var tenderArr = validCompanys.map(function (item) {\n          return item.tenderOffer - 0;\n        });\n        var max = Math.max.apply(Math, __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_toConsumableArray___default()(tenderArr));\n        var min = Math.min.apply(Math, __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_toConsumableArray___default()(tenderArr));\n        console.log('max:' + max + ';' + 'min:' + min);\n        average = (sum - max - min) / (validLength - 2);\n      } else if (validLength === 3) {\n        average = sum / validLength;\n      }\n      standardTarget = Math.round(average / (1 + Math.abs(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_number_parse_float___default()(this.floatPoint) / 100)));\n      return standardTarget;\n    },\n    calcResult: function calcResult() {\n      var _this2 = this;\n\n      if (!this.valid()) return;\n      var sum = this.getSum(this.companys);\n      var l = this.companys.length;\n      this.companys.forEach(function (item) {\n        item.otherOfferAverage = Math.round((sum - item.tenderOffer) / (l - 1));\n        item.isValid = _this2.isValid(item);\n      });\n      this.standardTarget = this.getStandardTarget();\n      this.companys.forEach(function (item) {\n        if (item.isValid) {\n          var ratio = item.tenderOffer / _this2.standardTarget - 1;\n          var subFlag = Math.ceil(Math.abs(ratio) / 0.005);\n          item.score = 100 - 0.5 * subFlag;\n        }\n      });\n      var orderArr = this.companys.filter(function (item) {\n        return item.isValid;\n      }).map(function (item) {\n        return item.score;\n      }).sort(function (a, b) {\n        return a - b < 0;\n      });\n      this.companys.forEach(function (item) {\n        if (item.isValid) {\n          item.ranking = orderArr.indexOf(item.score) + 1;\n        }\n      });\n    },\n    delRow: function delRow(index) {\n      this.companys.splice(index, 1);\n      this.calcResult();\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 79:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App__ = __webpack_require__(54);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__App__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_element_ui__ = __webpack_require__(52);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_element_ui___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_element_ui__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_element_ui_lib_theme_default_index_css__ = __webpack_require__(53);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_element_ui_lib_theme_default_index_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_element_ui_lib_theme_default_index_css__);\n\n\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].use(__WEBPACK_IMPORTED_MODULE_2_element_ui___default.a);\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].config.productionTip = false;\n\nnew __WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"]({\n  el: '#app',\n  template: '<App/>',\n  components: { App: __WEBPACK_IMPORTED_MODULE_1__App___default.a }\n});\n\n/***/ })\n\n},[79]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.856423e91bbbb7ae4b9b.js","\n/* styles */\nrequire(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-0f039516\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Grade.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Grade.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0f039516\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Grade.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Grade.vue\n// module id = 136\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('h1', [_vm._v(\"投标报价评分系统\")]), _vm._v(\" \"), _c('el-row', {\n    staticClass: \"info\"\n  }, [_c('span', {\n    staticClass: \"label\"\n  }, [_vm._v(\"招标人指标：\")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"labelInput\"\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"tel\"\n    },\n    model: {\n      value: (_vm.tendereeTarget),\n      callback: function($$v) {\n        _vm.tendereeTarget = $$v\n      },\n      expression: \"tendereeTarget\"\n    }\n  })], 1), _vm._v(\" \"), _c('span', {\n    staticClass: \"label\"\n  }, [_vm._v(\"浮动点：\")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"labelInput\"\n  }, [_c('el-select', {\n    model: {\n      value: (_vm.floatPoint),\n      callback: function($$v) {\n        _vm.floatPoint = $$v\n      },\n      expression: \"floatPoint\"\n    }\n  }, [_c('el-option', {\n    attrs: {\n      \"label\": \"1%\",\n      \"value\": \"1%\"\n    }\n  }), _vm._v(\" \"), _c('el-option', {\n    attrs: {\n      \"label\": \"0.5%\",\n      \"value\": \"0.5%\"\n    }\n  }), _vm._v(\" \"), _c('el-option', {\n    attrs: {\n      \"label\": \"0%\",\n      \"value\": \"0%\"\n    }\n  }), _vm._v(\" \"), _c('el-option', {\n    attrs: {\n      \"label\": \"-0.5%\",\n      \"value\": \"-0.5%\"\n    }\n  }), _vm._v(\" \"), _c('el-option', {\n    attrs: {\n      \"label\": \"-1%\",\n      \"value\": \"-1%\"\n    }\n  }), _vm._v(\" \"), _c('el-option', {\n    attrs: {\n      \"label\": \"-1.5%\",\n      \"value\": \"-1.5%\"\n    }\n  }), _vm._v(\" \"), _c('el-option', {\n    attrs: {\n      \"label\": \"-2%\",\n      \"value\": \"-2%\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('span', {\n    staticClass: \"label\"\n  }, [_vm._v(\"评标指标：\")]), _vm._v(\" \"), _c('span', {}, [_vm._v(_vm._s(_vm.standardTarget))]), _vm._v(\" \"), _c('span', {\n    staticClass: \"submitBt\"\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"warning\"\n    },\n    on: {\n      \"click\": _vm.addTestData\n    }\n  }, [_vm._v(\"添加测试数据\")]), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"type\": \"warning\"\n    },\n    on: {\n      \"click\": _vm.addNew\n    }\n  }, [_vm._v(\"新增公司\")]), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"type\": \"warning\"\n    },\n    on: {\n      \"click\": _vm.calcResult\n    }\n  }, [_vm._v(\"计算结果\")])], 1)]), _vm._v(\" \"), _c('div', {\n    staticClass: \"listTable\"\n  }, [_c('div', {\n    staticClass: \"tableHead\"\n  }, [_c('el-row', [_c('el-col', {\n    attrs: {\n      \"span\": 1\n    }\n  }, [_vm._v(\"顺序\")]), _vm._v(\" \"), _c('el-col', {\n    attrs: {\n      \"span\": 4\n    }\n  }, [_vm._v(\"投标单位\")]), _vm._v(\" \"), _c('el-col', {\n    attrs: {\n      \"span\": 4\n    }\n  }, [_vm._v(\"投标报价\")]), _vm._v(\" \"), _c('el-col', {\n    attrs: {\n      \"span\": 5\n    }\n  }, [_vm._v(\"大多数投标人报价平均值\")]), _vm._v(\" \"), _c('el-col', {\n    attrs: {\n      \"span\": 4\n    }\n  }, [_vm._v(\"是否有效投标\")]), _vm._v(\" \"), _c('el-col', {\n    attrs: {\n      \"span\": 3\n    }\n  }, [_vm._v(\"报价得分\")]), _vm._v(\" \"), _c('el-col', {\n    attrs: {\n      \"span\": 1\n    }\n  }, [_vm._v(\"名次\")]), _vm._v(\" \"), _c('el-col', {\n    attrs: {\n      \"span\": 2\n    }\n  }, [_vm._v(\"操作\")])], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"tableBody\"\n  }, _vm._l((_vm.companys), function(item, index) {\n    return _c('el-row', {\n      key: index,\n      class: {\n        'highlight': item.ranking == 1\n      }\n    }, [_c('el-col', {\n      attrs: {\n        \"span\": 1\n      }\n    }, [_vm._v(_vm._s(index + 1))]), _vm._v(\" \"), _c('el-col', {\n      attrs: {\n        \"span\": 4\n      }\n    }, [_c('el-input', {\n      attrs: {\n        \"size\": \"small\"\n      },\n      model: {\n        value: (item.name),\n        callback: function($$v) {\n          item.name = $$v\n        },\n        expression: \"item.name\"\n      }\n    })], 1), _vm._v(\" \"), _c('el-col', {\n      attrs: {\n        \"span\": 4\n      }\n    }, [_c('el-input', {\n      attrs: {\n        \"type\": \"tel\",\n        \"size\": \"small\"\n      },\n      model: {\n        value: (item.tenderOffer),\n        callback: function($$v) {\n          item.tenderOffer = $$v\n        },\n        expression: \"item.tenderOffer\"\n      }\n    })], 1), _vm._v(\" \"), _c('el-col', {\n      attrs: {\n        \"span\": 5\n      }\n    }, [_vm._v(_vm._s(item.otherOfferAverage))]), _vm._v(\" \"), _c('el-col', {\n      attrs: {\n        \"span\": 4\n      }\n    }, [_c('i', {\n      class: item.isValid ? 'el-icon-check right' : 'el-icon-close error'\n    })]), _vm._v(\" \"), _c('el-col', {\n      attrs: {\n        \"span\": 3\n      }\n    }, [_vm._v(_vm._s(item.score))]), _vm._v(\" \"), _c('el-col', {\n      attrs: {\n        \"span\": 1\n      }\n    }, [_vm._v(_vm._s(item.ranking))]), _vm._v(\" \"), _c('el-col', {\n      staticStyle: {\n        \"position\": \"relative\"\n      },\n      attrs: {\n        \"span\": 2\n      }\n    }, [_c('el-button', {\n      staticClass: \"delBt\",\n      attrs: {\n        \"type\": \"primary\",\n        \"icon\": \"delete\",\n        \"size\": \"small\",\n        \"title\": \"删除\"\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.delRow(index)\n        }\n      }\n    })], 1)], 1)\n  }))])], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-0f039516\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Grade.vue\n// module id = 137\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('grade')], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-536edb5a\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 138\n// module chunks = 1","\n/* styles */\nrequire(\"!!../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-536edb5a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n\nvar Component = require(\"!../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"),\n  /* template */\n  require(\"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-536edb5a\\\"}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 54\n// module chunks = 1","<template>\r\n  <div id=\"app\">\r\n    <grade></grade>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Grade from './components/Grade'\r\n\r\nexport default {\r\n  name: 'app',\r\n  components: {\r\n    Grade\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n#app {\r\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  text-align: center;\r\n  color: #2c3e50;\r\n  margin-top: 60px;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// App.vue?72e9a0cc","<template>\r\n  <div>\r\n    <h1>投标报价评分系统</h1>\r\n    <el-row class=\"info\">\r\n      <span class=\"label\">招标人指标：</span>\r\n      <span class=\"labelInput\"><el-input type=\"tel\" v-model=\"tendereeTarget\"></el-input></span>\r\n      <span class=\"label\">浮动点：</span>\r\n      <span class=\"labelInput\">\r\n        <el-select v-model=\"floatPoint\">\r\n          <el-option label=\"1%\" value=\"1%\"></el-option>\r\n          <el-option label=\"0.5%\" value=\"0.5%\"></el-option>\r\n          <el-option label=\"0%\" value=\"0%\"></el-option>\r\n          <el-option label=\"-0.5%\" value=\"-0.5%\"></el-option>\r\n          <el-option label=\"-1%\" value=\"-1%\"></el-option>\r\n          <el-option label=\"-1.5%\" value=\"-1.5%\"></el-option>\r\n          <el-option label=\"-2%\" value=\"-2%\"></el-option>\r\n        </el-select>\r\n      </span>\r\n      <span class=\"label\">评标指标：</span>\r\n      <span class=\"\">{{standardTarget}}</span>\r\n      <span class=\"submitBt\">\r\n        <el-button type=\"warning\" @click=\"addTestData\">添加测试数据</el-button>\r\n        <el-button type=\"warning\" @click=\"addNew\">新增公司</el-button>\r\n        <el-button type=\"warning\" @click=\"calcResult\">计算结果</el-button>\r\n      </span>\r\n    </el-row>\r\n    <div class=\"listTable\">\r\n      <div class=\"tableHead\">\r\n        <el-row>\r\n        <el-col :span=\"1\">顺序</el-col>\r\n        <el-col :span=\"4\">投标单位</el-col>\r\n        <el-col :span=\"4\">投标报价</el-col>\r\n        <el-col :span=\"5\">大多数投标人报价平均值</el-col>\r\n        <el-col :span=\"4\">是否有效投标</el-col>\r\n        <el-col :span=\"3\">报价得分</el-col>\r\n        <el-col :span=\"1\">名次</el-col>\r\n        <el-col :span=\"2\">操作</el-col>\r\n      </el-row>\r\n      </div>\r\n      <div class=\"tableBody\">\r\n        <el-row v-for=\"(item,index) in companys\" :key=\"index\" :class=\"{'highlight': item.ranking == 1}\">\r\n          <el-col :span=\"1\">{{index + 1}}</el-col>\r\n          <el-col :span=\"4\">\r\n            <el-input v-model=\"item.name\" size=\"small\"></el-input>\r\n          </el-col>\r\n          <el-col :span=\"4\">\r\n            <el-input v-model=\"item.tenderOffer\" type=\"tel\" size=\"small\"></el-input>\r\n          </el-col>\r\n          <el-col :span=\"5\">{{item.otherOfferAverage}}</el-col>\r\n          <el-col :span=\"4\">\r\n            <i :class=\"item.isValid ? 'el-icon-check right' : 'el-icon-close error'\"></i>\r\n          </el-col>\r\n          <el-col :span=\"3\">{{item.score}}</el-col>\r\n          <el-col :span=\"1\">{{item.ranking}}</el-col>\r\n          <el-col :span=\"2\" style=\"position: relative;\">\r\n            <el-button type=\"primary\" icon=\"delete\" @click=\"delRow(index)\" size=\"small\" class=\"delBt\" title=\"删除\"></el-button>\r\n          </el-col>\r\n        </el-row>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n  export default {\r\n    data() {\r\n      return {\r\n        tendereeTarget: '',\r\n        floatPoint: '0%',\r\n        standardTarget: '',\r\n        companys: [],\r\n        company: {\r\n          name: '',\r\n          tenderOffer: '',\r\n          otherOfferAverage: '',\r\n          isValid: '',\r\n          score: '',\r\n          ranking: ''\r\n        }\r\n      }\r\n    },\r\n    created() {\r\n      for (let i = 0; i < 7; i++){\r\n        this.companys.push(Object.assign({},this.company));\r\n      }\r\n    },\r\n    methods: {\r\n      addNew() {\r\n        this.companys.push(Object.assign({},this.company));\r\n      },\r\n      addTestData() {\r\n//        let testData = [\r\n//          4501.5607,4681.3000,4498.5250,5431.3783,5378.0000,4522.5000,5399.9039\r\n//        ];\r\n//        this.floatPoint = '1.25%';\r\n//        this.tendereeTarget = 4638.0000;\r\n        let testData = [\r\n          61230486.51, 60936722.70, 61746060.14, 61302518.19, 58253673.83, 58164669.29, 58103681.21\r\n        ];\r\n        this.floatPoint = '1%';\r\n        this.tendereeTarget = 61500000;\r\n        this.companys.forEach((item, index) => {\r\n          item.tenderOffer = testData[index];\r\n        });\r\n        this.calcResult();\r\n      },\r\n      valid() {\r\n        let flag = true;\r\n        this.companys.forEach((item) => {\r\n          if (!this.tendereeTarget) {\r\n            this.$message({\r\n              showClose: true,\r\n              message: '请先填写招标人指标',\r\n              type: 'error'\r\n            });\r\n            flag = false;\r\n          }\r\n          if (!item.tenderOffer) {\r\n            this.$message({\r\n              showClose: true,\r\n              message: '请先填写投标报价',\r\n              type: 'error'\r\n            });\r\n            flag = false;\r\n          }\r\n        });\r\n        return flag;\r\n      },\r\n      getSum(array) {\r\n        let sum = 0;\r\n        array.forEach(function (item) {\r\n          sum += item.tenderOffer - 0;\r\n        });\r\n        return sum;\r\n      },\r\n      isValid(item) {\r\n        let flag = false;\r\n        let tenderOffer = item.tenderOffer || 0;\r\n        let otherOfferAverage = item.otherOfferAverage || 0;\r\n        if(tenderOffer <= this.tendereeTarget*1.05 && tenderOffer >= this.tendereeTarget*0.93){\r\n          flag = true;\r\n        }\r\n        if(tenderOffer <= otherOfferAverage*1.05 && tenderOffer >= otherOfferAverage*0.93){\r\n          flag = true;\r\n        }\r\n        return flag;\r\n      },\r\n      getStandardTarget() { // 评标指标\r\n        let validCompanys = this.companys.filter(function (com) {\r\n          return com.isValid;\r\n        });\r\n        let validLength = validCompanys.length;\r\n        let sum = this.getSum(validCompanys);\r\n        let average = 0;\r\n        let standardTarget = 0;\r\n        if(validLength > 3) {\r\n          let tenderArr = validCompanys.map(function (item) {\r\n            return item.tenderOffer - 0;\r\n          });\r\n          let max = Math.max(...tenderArr);\r\n          let min = Math.min(...tenderArr);\r\n          console.log('max:'+ max+';' + 'min:' +min);\r\n          average = (sum - max - min)/(validLength - 2);\r\n        }else if(validLength === 3){\r\n          average = sum/validLength;\r\n        }\r\n        standardTarget =  Math.round(average/(1 + Math.abs(Number.parseFloat(this.floatPoint)/100)));\r\n        return standardTarget;\r\n      },\r\n      calcResult() {\r\n        if(!this.valid()) return;\r\n        let sum = this.getSum(this.companys);\r\n        let l = this.companys.length;\r\n        this.companys.forEach((item) => {\r\n          item.otherOfferAverage = Math.round((sum - item.tenderOffer)/(l - 1));\r\n          item.isValid = this.isValid(item);\r\n        });\r\n        this.standardTarget = this.getStandardTarget();\r\n        this.companys.forEach(item => {\r\n          if (item.isValid) {\r\n          let ratio = item.tenderOffer/this.standardTarget-1;\r\n            let subFlag = Math.ceil(Math.abs(ratio)/0.005);\r\n            item.score = 100 -0.5*subFlag;\r\n          }\r\n        });\r\n        let orderArr = this.companys.filter(function (item) {\r\n          return item.isValid;\r\n        }).map(function (item) {\r\n          return item.score;\r\n        }).sort(function (a, b) {\r\n          return a - b < 0;\r\n        });\r\n        this.companys.forEach(item => {\r\n          if (item.isValid) {\r\n            item.ranking = orderArr.indexOf(item.score) + 1;\r\n          }\r\n        });\r\n      },\r\n      delRow(index) {\r\n        this.companys.splice(index, 1);\r\n        this.calcResult();\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style lang=\"stylus\">\r\n  .right\r\n    color: #13CE66\r\n  .error\r\n    color: #FF4949\r\n\r\n  .el-row\r\n    line-height: 36px\r\n    height: 36px\r\n    .el-col\r\n      height: 100%\r\n\r\n\r\n  .info\r\n    text-align left\r\n    span\r\n      display inline-block\r\n      text-align center\r\n      &.label\r\n        width: 120px\r\n      &.labelInput\r\n        width 180px\r\n        & > *\r\n          width 100%\r\n      &.submitBt\r\n        float right\r\n\r\n\r\n  .listTable\r\n    margin-top: 10px\r\n    input\r\n      text-align end\r\n    .tableHead\r\n      background: #20A0FF\r\n      color: #fff\r\n    .el-row\r\n      box-sizing border-box\r\n      &:hover\r\n        background lighten(bisque, 30%)\r\n      .el-input--small\r\n        display block\r\n        width: 90%\r\n        margin: 0 auto\r\n        input\r\n          margin-top 1px\r\n    .highlight\r\n      border 2px solid #ff4949\r\n      background: bisque\r\n      border-radius 5px\r\n    .delBt\r\n      position absolute\r\n      top: 50%\r\n      transform translateY(-50%)\r\n\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// Grade.vue?2158a1ab","// The Vue build version to load with the `import` command\r\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\r\nimport Vue from 'vue'\r\nimport App from './App'\r\nimport ElementUI from 'element-ui'\r\nimport 'element-ui/lib/theme-default/index.css'\r\n\r\nVue.use(ElementUI)\r\nVue.config.productionTip = false\r\n\r\n/* eslint-disable no-new */\r\nnew Vue({\r\n  el: '#app',\r\n  template: '<App/>',\r\n  components: { App }\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}